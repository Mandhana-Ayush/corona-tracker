(this.webpackJsonpreactapp2=this.webpackJsonpreactapp2||[]).push([[0],{245:function(e,t,n){},246:function(e,t,n){},248:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(11),s=n.n(r),o=n(21),i=n(14),u={countryData:[],singleCountryInfo:[],historicalData:[],country:"worldwide",caseValue:"CoronaVirus Cases",center:[51.505,-.09],zoom:3,vaccineCountryList:[],country_vaccine:"worldwide",singleCountry_data_vaccine:[]};function l(e,t){switch(t.type){case"country_info":return Object(i.a)(Object(i.a)({},e),{},{countryData:t.payload});case"single_country_info":return Object(i.a)(Object(i.a)({},e),{},{singleCountryInfo:t.payload});case"historicalData":return Object(i.a)(Object(i.a)({},e),{},{historicalData:t.payload});case"country":return Object(i.a)(Object(i.a)({},e),{},{country:t.payload});case"casesValue":return Object(i.a)(Object(i.a)({},e),{},{caseValue:t.payload});case"map_location":return Object(i.a)(Object(i.a)({},e),{},{center:t.payload});case"map_zoomLevel":return Object(i.a)(Object(i.a)({},e),{},{zoom:t.zoom});case"worldwide_VaccineInfo":return Object(i.a)(Object(i.a)({},e),{},{vaccineCountryList:t.payload});case"Vaccine_country":return Object(i.a)(Object(i.a)({},e),{},{country_vaccine:t.payload});case"singleCountryInfo_vaccine":return Object(i.a)(Object(i.a)({},e),{},{singleCountry_data_vaccine:t.payload});default:return e}}var d=n(17),j=n.n(d),b=n(28),h=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/countries");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/countries/".concat(t,"?strict=true\n  "));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/all");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/historical/all?lastdays=all");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/historical/".concat(t,"?lastdays=all"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/vaccine/coverage/countries?lastdays=all&fullData=false");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/vaccine/coverage/countries/".concat(t,"?lastdays=all&fullData=false"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/vaccine/coverage?lastdays=all&fullData=false");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=(n(91),n(274)),C=n(278),g=n(279),w=n(2),N=function(){var e=Object(c.useContext)(ne),t=Object(c.useContext)(te),n=t.countryData;return Object(w.jsxs)("div",{className:"header",children:[Object(w.jsx)("div",{className:"header__name",children:"COVID TRACKER"}),Object(w.jsx)("div",{className:"header__dropdown",children:Object(w.jsx)(_.a,{className:"header__dropdown_material",children:Object(w.jsxs)(C.a,{variant:"outlined",value:t.country,onChange:function(t){e({type:"country",payload:t.target.value})},children:[Object(w.jsx)(g.a,{value:"worldwide",children:"WorldWide"}),n.map((function(e){return Object(w.jsx)(g.a,{value:e.countryInfo.iso2,children:e.country},e.country._id)}))]})})})]})},D=n(8),I=n(281),V=n(282),R=n(72),k=n.n(R),E=function(e){return e.map((function(e,t,n){var c=e-(n[t-1]||0);return c>=0?c:-1*c}))},T={"CoronaVirus Cases":{hex:"#CC1034",multiplier:8e3},Recovered:{hex:"#7dd1d",multiplier:12e3},Deaths:{hex:"#fb4443",multiplier:2e4}},A=function(){var e,t=Object(c.useContext)(te),n="CoronaVirus Cases"===(e=t.caseValue)?"cases":"Recovered"===e?"recovered":"Deaths"===e?"deaths":void 0;return t.countryData.map((function(e){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(I.a,{center:[e.countryInfo.lat,e.countryInfo.long],fillColor:T[t.caseValue].hex,color:T[t.caseValue].hex,radius:Math.sqrt(e[n]*T[t.caseValue].multiplier),fillOpacity:.4,children:Object(w.jsx)(V.a,{children:Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"info-flag",style:{backgroundImage:"url(".concat(e.countryInfo.flag,")")}}),Object(w.jsxs)("div",{children:[e.country,", ",e.continent]}),Object(w.jsxs)("div",{children:["Cases: ",k()(e.cases).format("0,0")]}),Object(w.jsxs)("div",{children:["Recovered: ",k()(e.recovered).format("0,0")]}),Object(w.jsxs)("div",{children:["Deaths: ",k()(e.deaths).format("0,0")]})]})})})})}))},L=n(71),S=function(){var e,t,n=[],a=[],r=Object(c.useState)(!1),s=Object(o.a)(r,2),i=s[0],u=s[1],l=Object(c.useState)(!1),d=Object(o.a)(l,2),j=d[0],b=d[1],h=Object(c.useContext)(te),f=Object(c.useContext)(ne);"CoronaVirus Cases"===h.caseValue?t="cases":"Recovered"===h.caseValue?t="recovered":"Deaths"===h.caseValue&&(t="deaths"),Object(c.useEffect)((function(){b(!1),"worldwide"===h.country?v().then((function(e){return e.json()})).then((function(e){f({type:"historicalData",payload:e}),u(!0)})):(u(!1),p(h.country).then((function(e){return e.json()})).then((function(e){f({type:"historicalData",payload:e}),b(!0)})))}),[h.country]),i?Object.keys(h.historicalData[t]).forEach((function(e){n=[].concat(Object(D.a)(n),[e]),a=[].concat(Object(D.a)(a),[h.historicalData[t][e]])})):j&&Object.keys(h.historicalData.timeline[t]).forEach((function(e){n=[].concat(Object(D.a)(n),[e]),a=[].concat(Object(D.a)(a),[h.historicalData.timeline[t][e]])})),e=E(a);var O={labels:n,datasets:[{label:"number of ".concat(h.caseValue," per day"),data:e,backgroundColor:"rgb(204,16,52,0.8)",borderColor:"#CC1034",pointRadius:.5}]};return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(L.a,{data:O})})},z=(n(245),n(283)),W=n(284),K=function(){var e=Object(c.useRef)([51.505,-.09]),t=Object(c.useRef)(2),n=Object(c.useContext)(te),a=n.country,r=n.singleCountryInfo;return"worldwide"===a?(e.current=[51.505,-.09],t.current=2):r.countryInfo&&r.countryInfo.iso2===a&&(e.current=[r.countryInfo.lat,r.countryInfo.long],t.current=5),Object(w.jsx)("div",{className:"map",children:Object(w.jsxs)(z.a,{center:e.current,zoom:t.current,children:[Object(w.jsx)(W.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(w.jsx)(A,{})]})})},F=function(e){var t=e.data1,n=e.data2,c=e.data3,r=a.a.useContext(ne);return Object(w.jsxs)("div",{className:"case__left__stats",id:t,onClick:function(e){r({type:"casesValue",payload:t})},children:[Object(w.jsx)("h3",{children:t}),Object(w.jsx)("h1",{children:n}),Object(w.jsxs)("h6",{children:[c," Total"]})]})},M=function(){var e=[],t=Object(c.useContext)(te).countryData;return e=t.sort((function(e,t){return e.cases>t.cases?-1:1})),Object(w.jsxs)("div",{className:"case__right__sidebar",children:[Object(w.jsx)("h2",{children:"Live Cases by Country"}),Object(w.jsx)("div",{className:"case__right__table",children:e.map((function(e){return Object(w.jsxs)("tr",{className:"",children:[Object(w.jsx)("td",{children:e.country}),Object(w.jsx)("td",{children:e.cases})]},e.countryInfo._id+"new")}))})]})},J=function(){var e=Object(c.useContext)(ne),t=Object(c.useContext)(te),n=t.vaccineCountryList;return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:"header",children:[Object(w.jsx)("div",{className:"header__name",children:"VACCINE TRACKER"}),Object(w.jsx)("div",{className:"header__dropdown",children:Object(w.jsx)(_.a,{className:"header__dropdown_material",children:Object(w.jsxs)(C.a,{variant:"outlined",value:t.country_vaccine,onChange:function(t){e({type:"Vaccine_country",payload:t.target.value})},children:[Object(w.jsx)(g.a,{value:"worldwide",children:"WorldWide"}),n.map((function(e){return Object(w.jsx)(g.a,{value:e.country,children:e.country})}))]})})})]})})},P=function(){var e,t=Object(c.useContext)(te),n=Object(c.useContext)(ne),a=t.singleCountry_data_vaccine,r=Object(c.useState)(!1),s=Object(o.a)(r,2),i=s[0],u=s[1],l=Object(c.useState)(!1),d=Object(o.a)(l,2),j=d[0],b=d[1],h=[],f=[];Object(c.useEffect)((function(){"worldwide"===t.country_vaccine?(b(!1),m().then((function(e){return e.json()})).then((function(e){n({type:"singleCountryInfo_vaccine",payload:e}),u(!0)}))):(u(!1),x(t.country_vaccine).then((function(e){return e.json()})).then((function(e){n({type:"singleCountryInfo_vaccine",payload:e}),b(!0)})))}),[t.country_vaccine]),i?Object.keys(a).forEach((function(e){h=[].concat(Object(D.a)(h),[e]),f=[].concat(Object(D.a)(f),[a[e]])})):j&&Object.keys(a.timeline).forEach((function(e){h=[].concat(Object(D.a)(h),[e]),f=[].concat(Object(D.a)(f),[a.timeline[e]])})),e=E(f);var O={labels:h,datasets:[{label:"number of vaccinations daily",data:e,backgroundColor:"rgb(204,16,52,0.8)",borderColor:"#CC1034",pointRadius:.5}]};return Object(w.jsx)("div",{children:Object(w.jsx)(L.a,{data:O})})},Y=n(122),q=n.n(Y),B=function(){var e=new Date;return e.setDate(e.getDate()-1),q()(e).format("M/DD/YY")},G=function(){var e=function(){var e=[];return Object(c.useContext)(te).vaccineCountryList.map((function(t){var n=B();e=[].concat(Object(D.a)(e),[{country:t.country,data:t.timeline[n]}])})),e}(),t=e.sort((function(e,t){return e.data>t.data?-1:1}));return Object(w.jsxs)("div",{className:"vaccine__right__sidebar",children:[Object(w.jsx)("h2",{children:"Live Vaccination by Country"}),Object(w.jsx)("div",{className:"vaccine__right__table",children:t.map((function(e){return Object(w.jsxs)("tr",{className:"",children:[Object(w.jsx)("td",{children:e.country}),Object(w.jsx)("td",{children:e.data})]})}))})]})},H=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1];Object(c.useEffect)((function(){m().then((function(e){return e.json()})).then((function(e){a(e)}))}),[]);var r=B();return Object(w.jsxs)("div",{className:"case_left_stats_vaccine",children:[Object(w.jsx)("h3",{children:"Total Vaccination Done Worldwide "}),Object(w.jsx)("h1",{children:n[r]})]})};var Q=function(e){var t=e.isToggleOn,n=Object(c.useContext)(te),a=Object(c.useContext)(ne),r=n.country;return Object(c.useEffect)((function(){t&&h().then((function(e){return e.json()})).then((function(e){a({type:"country_info",payload:e})}))}),[t]),Object(c.useEffect)((function(){t&&("worldwide"===r?O().then((function(e){return e.json()})).then((function(e){a({type:"single_country_info",payload:e})})):f(r).then((function(e){return e.json()})).then((function(e){a({type:"single_country_info",payload:e})})))}),[r,t]),Object(c.useEffect)((function(){t||y().then((function(e){return e.json()})).then((function(e){a({type:"worldwide_VaccineInfo",payload:e})}))}),[t]),Object(w.jsxs)("div",{className:"container",children:[t&&Object(w.jsxs)("div",{className:"case",children:[Object(w.jsxs)("div",{className:"case__left",children:[Object(w.jsx)(N,{}),Object(w.jsxs)("div",{className:"case__stats_display",children:[Object(w.jsx)(F,{data1:"CoronaVirus Cases",data2:n.singleCountryInfo.todayCases,data3:n.singleCountryInfo.cases}),Object(w.jsx)(F,{data1:"Recovered",data2:n.singleCountryInfo.todayRecovered,data3:n.singleCountryInfo.recovered}),Object(w.jsx)(F,{data1:"Deaths",data2:n.singleCountryInfo.todayDeaths,data3:n.singleCountryInfo.deaths})]}),Object(w.jsx)(K,{})]}),Object(w.jsxs)("div",{className:"case__right",children:[Object(w.jsx)(M,{}),Object(w.jsx)(S,{})]})]}),!t&&Object(w.jsxs)("div",{className:"vaccine",children:[Object(w.jsxs)("div",{className:"vaccine__left",children:[Object(w.jsx)(J,{}),Object(w.jsx)(H,{}),Object(w.jsx)(P,{})]}),Object(w.jsx)("div",{className:"vaccine_right",children:Object(w.jsx)(G,{})})]})]})},U=n(280),X=(n(246),n(124)),Z=n.n(X),$=n(123),ee=n.n($),te=a.a.createContext(),ne=a.a.createContext();var ce=function(){var e=Object(c.useReducer)(l,u),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(o.a)(r,2),i=s[0],d=s[1];return Object(w.jsx)(te.Provider,{value:n,children:Object(w.jsx)(ne.Provider,{value:a,children:Object(w.jsx)(U.a,{in:i,timeout:100,classNames:"my-node",children:Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"header__mast__head",children:[Object(w.jsx)("span",{children:"VACCINE TRACKER"}),Object(w.jsx)("span",{className:"toggler",onClick:function(){d(!i)},children:i?Object(w.jsx)(ee.a,{}):Object(w.jsx)(Z.a,{})}),Object(w.jsx)("span",{children:"CORONA TRACKER"})]}),Object(w.jsx)(Q,{isToggleOn:i})]})})})})},ae=function(){return Object(w.jsx)(ce,{})};s.a.render(Object(w.jsx)(ae,{}),document.getElementById("root"))}},[[248,1,2]]]);
//# sourceMappingURL=main.92c3d7cb.chunk.js.map